# Lab Practice: DNS Lookups and WHOIS Queries

## Objective
This lab focuses on understanding DNS lookups and the use of the WHOIS tool to identify domain contacts.

---

## Section 1: DNS Lookups with `dig`

### Exercise 1: Understanding the `dig` Command

A user enters the command:

```bash
dig h4kerone.org mx
```

**Purpose of the Command:**
What is the purpose of using this command?

- [ ] to send a test email to the h4kerone.org server
- [ ] to obtain the email servers used by h4kerone.org
- [ ] to test the connectivity to the h4kerone.org server
- [ ] to find the IP address associated with the domain name h4kerone.org

---

## Section 2: Identification of Technical and Administrative Contacts

You can easily identify domain technical and administrative contacts by using the WHOIS tool. Many organizations keep their registration details private and instead use the domain registrar organization contacts.

### Example 3-4: WHOIS Information for the Domain h4cker.org

```bash
whois h4cker.org
```

```plaintext
Domain Name: H4CKER.ORG
Registry Domain ID: D402200000006011258-LROR
Registrar WHOIS Server: whois.google.com
Registrar URL: https://domains.google.com
Updated Date: 2018-07-03T03:48:35Z
Creation Date: 2018-05-04T03:43:52Z
Registry Expiry Date: 2028-05-04T03:43:52Z
Registrar: Google LLC
Registrar IANA ID: 895
Registrar Abuse Contact Email: registrar-abuse@google.com
Registrar Abuse Contact Phone: +1.8772376466
...
```

### Example 3-5: WHOIS Information for the Domain tesla.com

```bash
whois tesla.com
```

```plaintext
Domain Name: TESLA.COM
Registry Domain ID: 187902_DOMAIN_COM-VRSN
Registrar WHOIS Server: whois.markmonitor.com
Registrar URL: http://www.markmonitor.com
Registrar: MarkMonitor Inc.
Registrar IANA ID: 292
...
```

### Technical and Administrative Contacts

In Example 3-6, the technical and administrative email contacts for the domain cisco.com are shown:

```bash
whois cisco.com | grep '@cisco.com'
```

```plaintext
Registrant Email: infosec@cisco.com
Admin Email: infosec@cisco.com
Tech Email: infosec@cisco.com
```

### Tip
Various tools, such as Recon-ng, the Harvester, and Maltego, help automate passive reconnaissance and support many DNS-based and WHOIS queries. Some tools are covered in Module 10 and listed in Omar Santos' GitHub repository: [H4cker OSINT Tools](https://github.com/The-Art-of-Hacking/h4cker/tree/master/osint).

---

## Section 3: Practice - Identification of Technical and Administrative Contacts

### Exercise 2: WHOIS Command Usage

Which command can identify the technical and administrative contacts for the domain h4cker.org?

- [ ] ping h4cker.org
- [ ] whois h4cker.org
- [ ] dig h4cker.org
- [ ] nslookup h4cker.org

---

## Additional Exercises

### Exercise 3: Exploring DNS Records

1. Use the `dig` command to find the A record for `h4kerone.org`.
   ```bash
   dig h4kerone.org A
   ```

   **Question:** What is the IP address returned by the command?

   ```markdown
   Answer Area:  
   <!----><!---->
   ```

2. Investigate the TXT records for `h4kerone.org` using:
   ```bash
   dig h4kerone.org TXT
   ```

   **Question:** What information do you find in the TXT records?

   ```markdown
   Answer Area:  
   <!----><!---->
   ```

### Exercise 4: Compare WHOIS Outputs

1. Compare the WHOIS output for `h4cker.org` and `tesla.com`. Identify any differences in the registrant information or registrar details.

   **Question:** What key differences did you observe?

   ```markdown
   Answer Area:  
   <!----><!---->
   ```

---

## Conclusion

In this lab, you explored how to perform DNS lookups using the `dig` command and identified domain contacts using the WHOIS tool. You also practiced interpreting the output of these commands and reflected on their importance in passive reconnaissance.

