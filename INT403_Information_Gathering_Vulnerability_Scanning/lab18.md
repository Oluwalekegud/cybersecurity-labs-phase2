# Lab: Using OSINT Tools

## Objectives
In this lab, you will explore several OSINT tools commonly used by pentesters:
- Examine OSINT resources
- Use SpiderFoot
- Investigate Recon-ng
- Find interesting files with Recon-ng

## Background / Scenario
When performing information gathering activities, passive reconnaissance uses open, publicly accessible data to guide active reconnaissance efforts. OSINT tools may or may not be open source. The objectives of OSINT include:
- Determining the digital footprint of the organization.
- Identifying data available to cybercriminals.

## Required Resources
- Kali VM customized for Ethical Hacker course
- Internet access

---

## Part 1: Examine OSINT Resources

### Step 1: Access the OSINT Framework
1. Go to the [OSINT Framework](https://osintframework.com/).
2. Click on "Username" and explore the subcategories.
3. Click on "WhatsMyName(T)" and visit [WhatsMyName](https://whatsmyname.app/).
4. In the search box, enter usernames and observe the results.

**Question:** What is the value of doing username searches and account enumeration?  
```markdown
Answer Area:  
<!----><!---->
```

### Step 2: Investigate SMART - Start Me Aggregated Resource Tool
1. Go to [SMART](https://smart.myosint.training/).
2. Search for "usernames" and review the resources available.

---

## Part 2: Use SpiderFoot

### Step 1: Start and Run SpiderFoot
- Open a terminal and run:  
  ```bash
  spiderfoot -l 127.0.0.1:5001
  ```

### Step 2: Explore SpiderFoot
- Go to the Settings tab and list some scanners below:

| Information Type                           | Scanner/Module Name      | API Key Required? | Free?  | Comments                     |
|--------------------------------------------|--------------------------|-------------------|--------|------------------------------|
| Possible accounts associated with a domain | Account Finder           | No, N/A           | Yes    | Over 200 sites              |
| Links that are associated with the target  |                          |                   |        |                              |
| Email addresses associated with the target  |                          |                   |        |                              |
| Domains and URLs that are associated       |                          |                   |        |                              |
| Geolocation information                     |                          |                   |        |                              |
| Data breach information                     |                          |                   |        |                              |

### Step 3: Run a SpiderFoot Scan for a Domain
1. Click on New Scan and enter the target (e.g., `aivtic.org.ng`).
2. Select "Footprint" as the scan use case and click "Run Scan Now".

### Step 4: Investigate Scan Results
- Stop the scan and review results.

### Step 5: Register API Keys (Optional)
- Complete the table for API keys:

| Module        | Type of Information             | Your API Key, etc        |
|---------------|----------------------------------|---------------------------|
| Builtwith     |                                  |                           |
| Hunter.io     |                                  |                           |
| Onion.link    |                                  |                           |
| IntelligenceX |                                  |                           |

### Step 6: Analyze Results of API Modules Scans
- Identify which module contributed to leak site URLs.  
```markdown
Answer Area:  
<!----><!---->
```

- Double-click several entries in the table Data Element column, right-click, and select open in new tab. What do you see?  
```markdown
Answer Area:  
<!----><!---->
```

---

## Part 3: Investigate Recon-ng

### Step 1: Create a Workspace
1. Open a terminal and enter `recon-ng`.
2. Create a workspace named "test".

**Questions:**
- How can you display the available workspaces?  
```markdown
Answer Area:  
<!----><!---->
```

- How can you remove a workspace?  
```markdown
Answer Area:  
<!----><!---->
```

- What command will exit the workspace and return to the main Recon-ng prompt?  
```markdown
Answer Area:  
<!----><!---->
```

### Step 2: Investigate Modules
- Return to the Recon-ng prompt and enter the modules search command. How many modules are currently available to you?  
```markdown
Answer Area:  
<!----><!---->
```

### Step 3: Investigate the Module Marketplace
- Search for shodan modules and note requirements.  
```markdown
Answer Area:  
<!----><!---->
```

### Step 4: Install a New Module
- Which module did you find that requires no dependencies?  
```markdown
Answer Area:  
<!----><!---->
```

### Step 5: Run the New Modules
1. Create a new workspace. Name it as you wish.
2. Enter the command `modules load hackertarget`.

- What information is available for this module?  
```markdown
Answer Area:  
<!----><!---->
```

- What is the only option for this module?  
```markdown
Answer Area:  
<!----><!---->
```

- Use the options set source command to set the only option for this module. Complete the command by specifying the target as `hackxor.net`. Verify the option setting with the info command.

- Type run to execute the module. Inspect the output of the command.

- Enter the dashboard command. What is the Recon-ng data label for the subdomains that have been listed? How many were discovered?  
```markdown
Answer Area:  
<!----><!---->
```

- How many subdomains did the hackertarget module find? Compare with the bing module.  
```markdown
Answer Area:  
<!----><!---->
```

### Step 6: Investigate the Web Interface
- Open a new terminal and enter the recon-web command to start the Recon-ng server process. Access the webpage using the URL information provided in the output.

---

## Part 4: Find Interesting Files with Recon-ng

### Step 1: Install Another Module
- Search the marketplace for a module that will discover interesting files in a domain. Which module did you find?  
```markdown
Answer Area:  
<!----><!---->
```

### Step 2: Run the New Module
- Set the source option to `hackxor.net` or another location of your choice. Run the command and locate the generated CSV file.

### Step 3: Experiment with Different Modules and Targets
- Investigate other modules. Use the commands learned to download, configure options, run, and view results for the module and different targets. Export results to various text formats for use in reports.

---

## Reflection Questions
1. What do you think about the recon-ng workspaces feature? How could you use it?  
```markdown
Answer Area:  
<!----><!---->
```

2. Recon-ng uses a modular framework architecture. Do modules simplify using the Recon-ng tool? If so, how?  
```markdown
Answer Area:  
<!----><!---->
```
